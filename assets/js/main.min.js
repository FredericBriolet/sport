"use strict";function init(){initLanding(landing_id);var t=(initApp(app_id),document.getElementById("categories-container")),e=document.getElementById("categories-container-parent"),i=(window.innerHeight+e.getBoundingClientRect().top-document.body.getBoundingClientRect().top,t.getBoundingClientRect().top-document.body.getBoundingClientRect().top),n=document.getElementById("pos-end");window.addEventListener("scroll",function(){var e=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,o=n.getBoundingClientRect().top-document.body.getBoundingClientRect().top;e>=i&&o>=e?t.classList.add("fixed"):t.classList.remove("fixed")})}function initApp(t){var e={props:{inViewportActive:{type:Boolean,"default":!0},inViewportOnce:{type:Boolean,"default":!1},inViewportOffset:{type:Number,"default":0},inViewportOffsetTop:{type:Number,"default":null},inViewportOffsetBottom:{type:Number,"default":null}},data:function(){return{inViewport:{now:null,fully:null,above:null,below:null,listening:!1}}},computed:{inViewportOffsetTopComputed:function(){var t;return null!=(t=this.inViewportOffsetTop)?t:this.inViewportOffset},inViewportOffsetBottomComputed:function(){var t;return null!=(t=this.inViewportOffsetBottom)?t:this.inViewportOffset},inViewportOffsetComputed:function(){return{top:this.inViewportOffsetTopComputed,bottom:this.inViewportOffsetBottomComputed}}},mounted:function(){return this.inViewportInit()},destroyed:function(){return this.removeInViewportHandlers()},watch:{inViewportActive:function(t){return t?this.addInViewportHandlers():this.removeInViewportHandlers()},inViewportOffsetComputed:{deep:!0,handler:function(){return this.removeInViewportHandlers(),this.inViewportInit()}}},methods:{inViewportInit:function(){return this.inViewportActive?this.addInViewportHandlers():void 0},addInViewportHandlers:function(){return this.inViewport.listening?void 0:(this.inViewport.listening=!0,this.scrollMonitor=scrollMonitor.create(this.$el,this.inViewportOffsetComputed),this.scrollMonitor.on("stateChange",this.updateInViewport),this.updateInViewport())},removeInViewportHandlers:function(){return this.inViewport.listening?(this.inViewport.listening=!1,this.scrollMonitor&&this.scrollMonitor.destroy(),delete this.scrollMonitor):void 0},updateInViewport:function(){return this.inViewport.now=this.scrollMonitor.isInViewport,this.inViewport.fully=this.scrollMonitor.isFullyInViewport,this.inViewport.above=this.scrollMonitor.isAboveViewport,this.inViewport.below=this.scrollMonitor.isBelowViewport,this.inViewportOnce&&this.inViewport.now?this.removeInViewportHandlers():void 0}}},i={props:{article:Object,index:Number},data:{categoryClass:""},mixins:[e],computed:{visible:function(){var t=this;return t.inViewport.now},imgTransition:function(){var t=this;return t.index%2===0?"transition-article-image-slide-right":"transition-article-image-slide-left"},enabledArticle:function(){var t=this,e=t.$parent;return 0===e.$data.activeCategories.length?{opacity:1}:e.$data.activeCategories.indexOf(t.article.category.index)>-1?{opacity:1}:{opacity:.25,filter:"blur(20px)"}},offset:function(){return-window.innerHeight+75},switchPosition:function(){var t=this;return t.index%2===0?"article-right":"article-left"},iconCategoryPath:function(){var t=this,e=!1;switch(t.article.category.name){case"Connected Sports Gear":t.categoryClass="connected";break;case"VR":t.categoryClass="vr";break;case"Interactive Experiences":t.categoryClass="interactive";break;case"E-Sport":t.categoryClass="esport";break;case"App":t.categoryClass="mobile"}return e=svg_sprite_path+t.categoryClass}},template:'<article :style="enabledArticle" class="timeline-article" :class="this.switchPosition"><transition name="transition-article-date"><div v-show="visible" class="article-date"><span class="date">{{ article.date.day }}<sup>th</sup></span></div></transition><div class="article-img-container"><transition :name="imgTransition"><img v-show="article.medias.image && !article.medias.video && visible" class="article-image" :src="this.article.medias.image" :alt="this.article.title"><video controls="controls" v-show="article.medias.video && visible" class="article-image" :src="this.article.medias.video"></video></transition></div><div class="article-content" ><transition name="transition-article-content"><main v-show="visible" ><header class="article-header" ><svg v-show="this.iconCategoryPath" class="icon article-category" :class="this.categoryClass"><use :xlink:href="this.iconCategoryPath"/></svg><h2 class="article-title" v-html="this.article.title"></h2></header><section class="article-body"><p class="article-desc" v-html="this.article.description"></p></section><footer><div class="article-links"><a :href="this.article.url" target="_blank" rel="nofollow" class="article-link">Read the article</a><a v-show="article.medias.video" :href="this.article.medias.video" class="article-link">See the video</a></div></footer></main></transition><aside class="articles-more"><transition v-if="visible"  name="transition-article-aside"><ul class="article-tags"><li class="article-tag" v-for="tag in article.hashtag">{{ tag }}</li></ul></transition></aside></div></article>'},n={props:{index:Number,category:Object,classSelected:""},mixins:[e],computed:{iconClasses:function(){var t=this;return"category-icon category-icon--"+t.category.icon},iconCategoryPath:function(){var t=this;return svg_sprite_path+t.category.icon},above:function(){var t=this;return t.$parent.$parent.$data.fixedCategories=!!t.inViewport.above,t.inViewport.above}},methods:{toggleCategory:function(){var t=this;if(t.$parent.$el.classList.contains("fixed")){var e=t.$parent.$parent,i=e.$data.activeCategories.indexOf(t.category.index);-1===i?(e.$data.activeCategories.push(t.category.index),t.classSelected="selected"):(e.$data.activeCategories.splice(i,1),t.classSelected="")}}},template:'<li @click="toggleCategory" class="category" :class="classSelected"><div :class="this.iconClasses"><svg class="icon" ><use :xlink:href="this.iconCategoryPath" /></svg></div><p class="category-name" v-html="this.category.name"></p></li><!---->'},o={props:{month:String},computed:{visibleComputed:function(){var t=this;return t.inViewport.now}},mixins:[e],template:'<transition name="transition-article-grow"><header v-show="visibleComputed" class="month-title"><h1>{{ month }}</h1></header></transition>'};return new Vue({el:t,data:{articles:TIMELINE,fixedCategories:!1,activeCategories:[],categories:{0:{index:0,name:"Connected Devices",icon:"connected"},1:{index:1,name:"Mobile<br/>Apps",icon:"mobile"},2:{index:2,name:"E-Sport",icon:"esport"},3:{index:3,name:"Virtual Reality",icon:"vr"},4:{index:4,name:"Interactive Experiences",icon:"interactive"}}},mixins:[e],computed:{fixedCategoriesClasses:function(){},visibleComputed:function(){var t=this;return t.inViewport.now}},components:{"article-component":i,"category-component":n,"month-component":o}})}function initLanding(t){var e=document.getElementById("landing-base-line"),i={duration:50,file:"assets/svg/landing.svg",type:"scenario",animTimingFunction:Vivus.EASE,reverseStack:!0};new Vivus(t,i,function(){e.classList.add("animate")})}var landing_id="svg-landing",app_id="#app",svg_sprite_path="assets/img/symbol.svg#";window.onload=init;
